# Решение проблем при входе

## Проблема: Ошибка при входе

### Шаг 1: Проверьте URL Backend

1. Откройте консоль браузера (F12 или Cmd+Option+I)
2. Перейдите на вкладку "Console"
3. Найдите ошибку - там будет видно, на какой URL идет запрос

### Шаг 2: Проверьте переменную окружения

В Render.com для вашего Frontend сервиса должна быть установлена переменная:

**Key:** `REACT_APP_API_URL`  
**Value:** `https://ваш-backend-name.onrender.com/api`

⚠️ **ВАЖНО:** 
- URL должен начинаться с `https://`
- URL должен заканчиваться на `/api`
- Замените `ваш-backend-name` на реальное имя вашего backend сервиса

### Шаг 3: Проверьте, работает ли Backend

1. Откройте URL вашего backend в браузере (например: `https://magnet-backend.onrender.com`)
2. Должна быть ошибка 404 (это нормально - значит сервер работает)
3. Попробуйте открыть: `https://ваш-backend.onrender.com/api/auth/me`
4. Должна быть ошибка "Access token required" (это нормально - значит API работает)

### Шаг 4: Пересоберите Frontend

Если вы изменили переменную окружения `REACT_APP_API_URL`:

1. В Render Dashboard выберите ваш Frontend сервис
2. Нажмите "Manual Deploy" → "Deploy latest commit"
3. Дождитесь завершения деплоя

⚠️ **Важно:** После изменения переменных окружения нужно пересобрать приложение!

### Шаг 5: Проверьте CORS

Если видите ошибку CORS в консоли:

1. Убедитесь, что в Backend переменная `FRONTEND_URL` установлена на URL вашего frontend
2. Или оставьте её пустой (тогда будет разрешен доступ с любого домена)

---

## Частые ошибки

### "Network Error" или "Failed to fetch"
**Причина:** Frontend не может подключиться к Backend  
**Решение:** 
- Проверьте, что `REACT_APP_API_URL` правильный
- Проверьте, что Backend запущен и доступен

### "Invalid credentials"
**Причина:** Неправильный логин или пароль  
**Решение:** Используйте `admin` / `admin123`

### "CORS policy"
**Причина:** Backend блокирует запросы с frontend  
**Решение:** Проверьте настройки CORS в Backend

### "404 Not Found"
**Причина:** Неправильный URL API  
**Решение:** Убедитесь, что URL заканчивается на `/api`

---

## Как узнать URL вашего Backend

1. Зайдите в Render Dashboard
2. Выберите ваш Backend сервис
3. Вверху страницы будет URL (например: `https://magnet-backend.onrender.com`)
4. Добавьте `/api` в конце: `https://magnet-backend.onrender.com/api`

---

## Проверка через консоль браузера

1. Откройте сайт
2. Нажмите F12 (или Cmd+Option+I на Mac)
3. Перейдите на вкладку "Console"
4. Введите: `console.log(process.env.REACT_APP_API_URL)`
5. Должен показаться URL вашего backend

Если показывает `undefined` или `http://localhost:5000/api` - значит переменная окружения не установлена!

