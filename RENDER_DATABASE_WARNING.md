# ⚠️ ВАЖНО: Проблема с сохранением базы данных на Render

## Проблема

На бесплатном плане Render.com используется **ephemeral (временная) файловая система**. Это означает, что:

1. **База данных SQLite может теряться** при перезапуске сервиса
2. **Данные могут исчезать** при новом деплое из GitHub
3. **База пересоздается** при каждом запуске сервиса

## Решение

### Вариант 1: Использовать PostgreSQL на Render (РЕКОМЕНДУЕТСЯ)

Render предоставляет бесплатную PostgreSQL базу данных, которая сохраняет данные между перезапусками.

1. В Render Dashboard создайте новую PostgreSQL базу данных
2. Скопируйте Internal Database URL
3. Установите переменную окружения `DATABASE_URL` в настройках вашего backend сервиса
4. Измените код для использования PostgreSQL вместо SQLite

### Вариант 2: Использовать Persistent Disk (ПЛАТНО)

На платном плане Render можно использовать Persistent Disk для постоянного хранения файлов.

### Вариант 3: Регулярные бэкапы (Временное решение)

1. Экспортируйте базу данных периодически
2. Сохраняйте на внешнем хранилище (Dropbox, Google Drive)
3. Восстанавливайте при потере данных

## Текущая ситуация

Сейчас база данных хранится в файле `server/database.sqlite`. На Render бесплатном плане:
- ✅ Данные сохраняются между запросами в рамках одного запуска сервиса
- ❌ Данные теряются при перезапуске сервиса (обычно раз в неделю или при деплое)
- ❌ Данные теряются при новом деплое из GitHub

## Проверка

Чтобы проверить, сохраняются ли данные:
1. Создайте новый заказ
2. Подождите несколько минут
3. Обновите страницу
4. Если заказ исчез - значит база пересоздалась

Если данные пропадают, нужно переходить на PostgreSQL.


